\documentclass[a4paper,10pt]{article}

\usepackage{xltxtra} 
\usepackage{amsmath}
\usepackage[linkbordercolor={1 1 0}]{hyperref}
\usepackage[marginpar]{todo}

\usepackage[acronym,toc]{glossaries}

\usepackage{color}
\usepackage{xcolor}
\usepackage{listings}

\usepackage{subcaption}

\usepackage{caption}
\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\colorbox{gray}{\parbox{\textwidth}{#1#2#3}}}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white}

\usepackage{tikz}
\usetikzlibrary{arrows,decorations.pathmorphing,backgrounds,positioning,fit,mindmap}

\setromanfont[Mapping=tex-text]{Linux Libertine O}
% \setsansfont[Mapping=tex-text]{DejaVu Sans}
% \setmonofont[Mapping=tex-text]{DejaVu Sans Mono}

%funny makros we want to use
\newcommand{\den}[1]{\ensuremath{[\![#1]\!]}}

%skill language definition
\lstdefinelanguage{skill}
{morekeywords={include,with,with,extends,annotation,const,auto,map,list,set,i1,i8,i16,i32,i64,v64,string,bool,f32,f64},
breakatwhitespace=true,
   breaklines=true,      
sensitive=false,
morecomment=[s]{/*}{*/},
morestring=[b]",
frameshape={nnn}{n}{y}{nyr},
}
\lstset{emph={%  
    tagged,class,indexed%
    },emphstyle={\color{red}\bfseries\underbar}%
}%

\title{The Serialization Killer Language}
\author{Timm Felden}
\date{\today}

\makeglossaries
\include{glossary}

\begin{document}
\maketitle

\begin{abstract}
  This paper presents an approach to serializing objects, which is tailored for usability, performance and portability. Unlike other general serialization mechanisms, we provide explicit support for extension points in the serialized data, in order to provide a maximum of upward compatibility and extensibility.
\end{abstract}

\renewcommand{\abstractname}{Acknowledgements}
\begin{abstract}
Main critics: Erhard Plödereder and Martin Wittiger.

Additional critics: Dominik Bruhn.
\end{abstract}

\todo{namensäquivalenz muss immernoch mit lowercase arbeiten, wie es u.a. in Ada ist; die Konvention ist CamelCase und backends sind angehalten CamelCase in die entsprechende konvention der ausgabesprache zu übertragen, z.B. indem man in ada alles in uppercase schreibt und vor den inneren großbuchstaben einen \_ einfügt, falls es nur einer ist}


\tableofcontents

% main parts of the document
\include{parts/motivation}
\input{parts/syntax}
\input{parts/semantics}
\input{parts/extensions}
\input{parts/serialization}
\input{parts/api}


\section{Future Work}

XML output mit XML Schema.

Das neue Serialisierungsschema erlaubt es einen Viewer zu bauen, der Definition+Datei anzeigen kann. (Die future work ist hier der viewer)

Integration der Definition in die Serialisierte Form, damit man die Daten generisch prüfen und anzeigen kann. Hier braucht man noch ein gutes encoding, weil man sonst zu viel platz verbraucht.

Abuse annotations for type-safe unions. The type system does not allow for unrestricted unions or intersection types. The former violate serialization invariants, the latter would either have no instances or be equal to an already existing (super) type.

State somewhere, that a major advantage over XML is, that one is not required to link against a overly general implementation, which is nice if one is only interested in a very specific format.

A notion of \textit{first class strings} can be used to separate the string pool into one pool at the beginning of the file which contains all the strings, that have to be used in order to understand the contents of the file and a second part of the pool, which can be skipped. This should give significant performance improvements if files with lots of unused strings are processed.

True comments with \verb/# ... \n/?

Alternativ kann man die reflection data aus dem ReflectionPool als Eingabesprache für einen Generator benutzen.

Fun fact: Garbage Collection for serializable objects comes for free, if objects are always held in storage pools.

Add generic/template import statements, which allow to import files together with a substitution. That way one can create more complex ADTs such as B-Trees. This feature is not a priority and only useful for large files and projects and requires ascription to yield the desired effect automatically.

Add \textit{add} and \textit{subtract} declarations to the file format, starting with \texttt{++} or \textit{--}, which allow taking away or adding fields to types. If this is done, a usability evaluation is necessary!

\newpage
\todos

\part{Appendix}
\renewcommand\thesection{\Alph{section}}
\setcounter{section}{0}

\input{parts/zzV64}
\input{parts/zzCoreFeatures}


\newpage
%%% TODO REMOVE NEXT LINE
%\glsaddall
\printglossaries

\bibliographystyle{alpha}
\bibliography{skill}

\end{document}
